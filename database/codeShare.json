[
  {
    "id": "cf-subdomain",
    "title": "CF SUBDOMAIN ",
    "language": "javascript",
    "author": "Yudzxml",
    "description": "",
    "code": "import { fetch } from \"undici\";\n\nclass CloudflareDNS {\n  constructor(apiKey, zoneId) {\n    this.apiKey = apiKey;\n    this.zoneId = zoneId;\n    this.baseURL = `https://api.cloudflare.com/client/v4/zones/${zoneId}/dns_records`;\n  }\n\n  get headers() {\n    return {\n      \"Authorization\": `Bearer ${this.apiKey}`,\n      \"Content-Type\": \"application/json\"\n    };\n  }\n\n  async listDNS() {\n    const res = await fetch(this.baseURL, { headers: this.headers });\n    return res.json();\n  }\n\n  async addRecord({ type, name, content, ttl = 3600, proxied = false }) {\n    const body = { type, name, content, ttl, proxied };\n    const res = await fetch(this.baseURL, {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify(body)\n    });\n    return res.json();\n  }\n\n  async editRecord(recordId, { type, name, content, ttl = 3600, proxied = false }) {\n    const body = { type, name, content, ttl, proxied };\n    const res = await fetch(`${this.baseURL}/${recordId}`, {\n      method: \"PUT\",\n      headers: this.headers,\n      body: JSON.stringify(body)\n    });\n    return res.json();\n  }\n\n  async deleteRecord(recordId) {\n    const res = await fetch(`${this.baseURL}/${recordId}`, {\n      method: \"DELETE\",\n      headers: this.headers\n    });\n    return res.json();\n  }\n\n  async getRecordByName(name) {\n    const res = await fetch(`${this.baseURL}?name=${encodeURIComponent(name)}`, {\n      headers: this.headers\n    });\n    return res.json();\n  }\n}\n\nexport default CloudflareDNS;\n\n/**\n// CARA PENGGUNAAN \nimport CloudflareDNS from \"./CloudflareDNS.js\";\n\n// API Key (Bearer Token) & Zone ID Cloudflare\nconst apiKey = \"CF_API_KEY_KAMU\";\nconst zoneId = \"ZONE_ID_KAMU\";\n\n// Inisialisasi client DNS\nconst dns = new CloudflareDNS(apiKey, zoneId);\n\nasync function main() {\n  // Ambil semua DNS record\n  const list = await dns.listDNS();\n  console.log(list);\n\n  // Tambah DNS record baru\n  const add = await dns.addRecord({\n    type: \"A\",\n    name: \"sub.example.com\",\n    content: \"1.2.3.4\",\n    ttl: 300,\n    proxied: false\n  });\n  console.log(add);\n\n  // Edit DNS record (RECORD_ID ambil dari listDNS)\n  const edit = await dns.editRecord(\"RECORD_ID\", {\n    type: \"A\",\n    name: \"sub.example.com\",\n    content: \"5.6.7.8\",\n    ttl: 3600,\n    proxied: true\n  });\n  console.log(edit);\n\n  // Hapus DNS record\n  const del = await dns.deleteRecord(\"RECORD_ID\");\n  console.log(del);\n\n  // Cari record berdasarkan nama domain\n  const find = await dns.getRecordByName(\"sub.example.com\");\n  console.log(find);\n}\n\nmain();\n**/"
  }
]